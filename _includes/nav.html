<div class="wrapper-sidebar">
  <header class="sidebar clearfix">
    <div class="site-info">
      {% if site.avatar %}
        <a href="{{ site.baseurl }}/" class="site-avatar"><img src="{{ site.avatar }}" /></a>
      {% endif %} 
      <h1 class="site-name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>
      <p class="site-description">{{ site.description }}</p>
    </div>
  </header>

  <div class="navlist">
    <nav>
      {% for nav in site.navigation %}
      {% if nav.url contains 'http://' or nav.url contains 'https://' %}
      <a href="{{ nav.url }}">{{ nav.name }}</a>
      {% else %}
      <a href="{{ site.baseurl }}{{ nav.url }}">{{ nav.name }}</a>
      {% endif %}
      {% endfor %}
    </nav>
  </div>

  <!-- 最近阅读书籍模块 -->
  {% if site.recent_books %}
  <div class="recent-books">
    <h3 class="recent-books-title">📚 最近阅读</h3>
    <div class="books-list">
      {% for book in site.recent_books %}
      <div class="book-item" onclick="filterByTag('{{ book.tag }}')">
        <div class="book-cover">
          {% if book.cover %}
          <img src="{{ site.baseurl }}{{ book.cover }}" alt="{{ book.title }}" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
          {% endif %}
          <div class="book-placeholder" {% if book.cover %}style="display:none;"{% endif %}>📖</div>
        </div>
        <div class="book-info">
          <div class="book-title">{{ book.title }}</div>
          <div class="book-author">{{ book.author }}</div>
          <div class="book-description">{{ book.description }}</div>
          <div class="book-tag">#{{ book.tag }}</div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <div class="wrapper-footer-desktop">
    <footer class="footer">
      {% include footer.html %}
    </footer>
  </div>
</div>